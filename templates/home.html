{% extends "base.html" %}



{% block content %}








	{% if request.user.is_authenticated %}

	<!-- Example row of columns -->
	<div class="row">
		<div class="col-md-2">

			<div class="panel panel-default">
				<div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4>Abril 2015</h4></div>
				<div class="panel-body">
					<div class="list-group">
						<address>

							<strong>{{ request.user }}</strong><br>
							795 Folsom Ave, Suite 600<br>
							San Francisco, CA 94107<br>
							<abbr title="Phone">P:</abbr> (123) 456-7890
						</address>
					</div>
				</div>
			</div>


		</div>

		<div class="col-md-6">
			<div class="panel panel-default">
				<div class="panel-heading"><a href="#" class="pull-right">View all</a> <h4>Resumen Aparatos</h4></div>
				<div class="panel-body">

					<div id="chart"></div>

					<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
					<script src="/static/js/c3.js"></script>
					<script>
					var axis_x_type = 'category',
					axis_rotated = false;
					var generate = function () { return c3.generate({
						data: {
							x : 'x',
							columns: [
								['x', 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
								['lavadora', 30, 200, 200, 400, 150, 250,100,20,100,100,100, 30, 200, 200, 400, 150, 250,100,20,100,100,100, 30, 200, 200, 400, 150, 250,100,20],
								['television', 130, 100, 100, 200, 150, 50,10,20,200,200,200, 30, 200, 200, 400, 150, 250,100,20,100,100,100, 30, 200, 200, 400, 150, 250,100,100],
								['computadora', 230, 200, 200, 0, 250, 250,200,200,200,200, 30, 200, 200, 400, 150, 250,100,20,100,100,100, 30, 200, 200, 400, 150, 250,100,20,100]
							],
							type: 'bar',
							groups: [
								['lavadora', 'television','computadora']
							]



						},
						axis: {
							x: {
								type: 'categorized',
								label: 'Dias'
							},
							y: {
								label: {
									text: 'kWh',
									position: 'outer-middle'
								}
							}
						},
						grid: {
							y: {
								lines: [{value:0}]
							}
						},
						size: {
							height: 240
						},
					}); }, chart = generate();

					</script>

				</div>
			</div>

		</div>



		<div class="col-md-4">
			<div class="panel panel-default">
				<div class="panel-heading"><a href="#" class="pull-right">Ver más</a> <h4>Medidor</h4></div>
				<div class="panel-body">


					<div id="chart1"></div>


					<script>
					var chart1 = c3.generate({
						bindto: '#chart1',
						data: {
							columns: [
								[ 'consumo mensual', 291 ]
							],
							type: 'gauge',
							onmouseover: function (d, i) { console.log("onmouseover", d, i, this); },
							onmouseout: function (d, i) { console.log("onmouseout", d, i, this); },
							onclick: function (d, i) { console.log("onclick", d, i, this); },
						},
						gauge: {
							label: {
								format: function(value, ratio) {
									return value;
								},
								//          show: false // to turn off the min/max labels.
							},
							//          min: 0, // 0 is default, //can handle negative min e.g. vacuum / voltage // current flow / rate of change
							max: 600, // 100 is default
							units: ' kWh',
							//          width: 39 // for adjusting arc thickness
						},
						color: {
							pattern: ['#60B044', '#F6C600', '#FF0000'], // the three color levels for the percentage values.
							threshold: {
								//unit: 'KW', // percentage is default
								//max: 600, // 100 is default
								values: [150, 280, 500] // alternate first value is 'value'
							},
						},
						size: {
							height: 240
						}
					});


					//      setInterval(cycleDemo, 30000);
					</script>



				</div>
			</div>


		</div>
	</div>




	<!-- Example row of columns -->
	<div class="row">
		<div class="col-md-4">
			<div class="panel panel-default">
				<div class="panel-heading"><a href="#" class="pull-right">Ver más</a> <h4>Lavadora</h4></div>
				<div class="panel-body">


					<div id="Lavadora"></div>

					<script>
					var chart = c3.generate({
						bindto: '#Lavadora',
						axis: {
							y: {
								max: 121,
								min: 90,
							}
						},
						data: {
							x : 'x',
							columns: [
								['x', 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],
								['sample', 93, 94, 99, 101, 93, 99, 99, 101, 96, 99, 94, 99, 94, 93, 96, 93, 94, 103, 101, 103, 102, 104, 94, 99, 98, 100, 102, 97, 101, 103],

							],

						},

						grid: {
							y: {
								lines: [
									{value: 90, text: 'Comsumo Minimo', position: 'start'},
									{value: 100, text: 'Consumo Primedio', position: 'middle'},
									{value: 120, text: 'Consumo Maximo'}
								]
							}
						},
						size: {
							height: 240
						},
						legend: {
							show: false
						}
					});
					</script>
				</div>
			</div>
		</div>

		<div class="col-md-4">

			<div class="panel panel-default">
				<div class="panel-heading"><a href="#" class="pull-right">Ver más</a> <h4>Televisión</h4></div>
				<div class="panel-body">

					<div id="Television"></div>

					<script>
					var chart = c3.generate({
						bindto: '#Television',
						data: {
							x : 'x',
							columns: [
								['x', 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],
								['sample', 106, 108, 116, 120, 110, 130, 95, 96, 127, 107, 126, 96, 104, 102, 99, 106, 103, 100, 123, 95, 100, 119, 97, 104, 119, 118, 114, 104, 112, 120],

							],
						},
						axis: {
							y: {
								default: [90, 124]
							}
						},
						grid: {
							y: {
								lines: [
									{value: 92, text: 'Computadora en espera'},
									{value: 123, text: 'Computadora editando videos ', position: 'start'},
									{value: 110, text: 'Computadora en internet', position: 'middle'}
								]
							}
						},
						size: {
							height: 240
						},
						legend: {
							show: false
						}
					});
					</script>
				</div>
			</div>

		</div>

		<div class="col-md-4">

			<div class="panel panel-default">
				<div class="panel-heading"><a href="#" class="pull-right">Ver Más</a> <h4>Computadora</h4></div>
				<div class="panel-body">


					<div id="Computadora"></div>
					<script>
					var chart = c3.generate({
						bindto: '#Computadora',
						data: {
							x : 'x',
							columns: [
								['x', 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],
								['sample', 106, 108, 116, 120, 110, 130, 95, 96, 127, 107, 126, 96, 104, 102, 99, 106, 103, 100, 123, 95, 100, 119, 97, 104, 119, 118, 114, 104, 112, 120],
							],

						},

						grid: {
							y: {
								lines: [
									{value: 50, text: 'Lable 50 for y'},
									{value: 1300, text: 'Lable 1300 for y2', axis: 'y2', position: 'start'},
									{value: 350, text: 'Lable 350 for y', position: 'middle'}
								]
							}
						},
						size: {
							height: 240
						},
						legend: {
							show: false
						}
					});
					</script>


				</div>
			</div>
		</div>
	</div>



	{%for instance in queryset%}






				<div class="col-md-4">
					<div class="panel panel-default">
						<div class="panel-heading"><a href="#" class="pull-right">Ver más</a> <h4>kill-a-watt #{{instance.idKill}}</h4></div>
						<div class="panel-body">


							<div id="device{{instance.idKill}}"></div>


							<script>
							var chart1 = c3.generate({
								bindto: '#device{{instance.idKill}}',
								data: {
									columns: [
										[ 'kill-a-watt {{instance.idKill}}', {{instance.data}} ]
									],
									type: 'gauge',
									onmouseover: function (d, i) { console.log("onmouseover", d, i, this); },
									onmouseout: function (d, i) { console.log("onmouseout", d, i, this); },
									onclick: function (d, i) { console.log("onclick", d, i, this); },
								},
								gauge: {
									label: {
										format: function(value, ratio) {
											return value;
										},
										//          show: false // to turn off the min/max labels.
									},
									//          min: 0, // 0 is default, //can handle negative min e.g. vacuum / voltage // current flow / rate of change
									max: 600, // 100 is default
									units: ' kWh',
									//          width: 39 // for adjusting arc thickness
								},
								color: {
									pattern: ['#60B044', '#F6C600', '#FF0000'], // the three color levels for the percentage values.
									threshold: {
										//unit: 'KW', // percentage is default
										//max: 600, // 100 is default
										values: [150, 280, 500] // alternate first value is 'value'
									},
								},
								size: {
									height: 240
								}
							});


							//      setInterval(cycleDemo, 30000);
							</script>



						</div>
					</div>


				</div>
				</div>






	{% endfor %}



	{% endif %}

	{% endblock %}
